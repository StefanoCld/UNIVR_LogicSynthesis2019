.model fsmd

.inputs i6 i5 i4 i3 i2 i1 i0
.outputs oi err2 err1 err0 ga gb gc gd ge gf na3 na2 na1 na0 nb3 nb2 nb1 nb0 nc3 nc2 nc1 nc0 ne3 ne2 ne1 ne0 nf3 nf2 nf1 nf0


.subckt datapath dga=ga dgb=gb dgc=gc dge=ge dgf=gf resgen=aresgenfsm loadindp=aloadinfsm loadoutdp=aloadoutfsm vdp5=i5 vdp4=i4 vdp3=i3 vdp2=i2 vdp1=i1 vdp0=i0 dna3=na3 dna2=na2 dna1=na1 dna0=na0 dnb3=nb3 dnb2=nb2 dnb1=nb1 dnb0=nb0 dnc3=nc3 dnc2=nc2 dnc1=nc1 dnc0=nc0 dne3=ne3 dne2=ne2 dne1=ne1 dne0=ne0 dnf3=nf3 dnf2=nf2 dnf1=nf1 dnf0=nf0 oversignal=overs

.subckt fsm fi2=i6 fi1=i5 fi0=i4 overfsm=overf foi=oi ferr2=err2 ferr1=err1 ferr0=err0 fga=ga fgb=gb fgc=gc fgd=gd fge=ge fgf=gf resgenfsm=aresgenfsm loadinfsm=aloadinfsm loadoutfsm=aloadoutfsm

.subckt registro A=overs O=overf


.search datapath.blif
.search fsm_jedi.blif
.search registro.blif

.end


#?# Test Prof. Setti
# 0 101010 | 0 000 000000 0000 0000 0000 0000 0000
# 111 0000 | 1 000 100000 0001 0000 0000 0000 0000
# 1 110010 | 1 000 001000 0001 0000 0001 0000 0000
# 1 101101 | 1 000 000100 0001 0000 0001 0000 0000
# 0 000000 | 1 000 000010 0001 0000 0001 0001 0000
# 0 000000 | 1 000 100000 0010 0000 0001 0001 0000
# 1 110010 | 1 000 001000 0010 0000 0010 0001 0000
# 1 101101 | 1 000 000100 0010 0000 0010 0001 0000
# 0 000000 | 1 000 000010 0010 0000 0010 0010 0000
# 0 000000 | 1 000 100000 0011 0000 0010 0010 0000
# 1 110010 | 1 000 001000 0011 0000 0011 0010 0000
# 1 101101 | 1 000 000100 0011 0000 0011 0010 0000
# 0 000000 | 1 000 000010 0011 0000 0011 0011 0000
# 0 000000 | 1 000 100000 0100 0000 0011 0011 0000
# 1 110010 | 1 000 001000 0100 0000 0100 0011 0000
# 1 101101 | 1 000 000100 0100 0000 0100 0011 0000
# 0 000000 | 1 000 000010 0100 0000 0100 0100 0000
# 0 000000 | 1 000 100000 0101 0000 0100 0100 0000
# 1 110010 | 1 000 001000 0101 0000 0101 0100 0000
# 1 101101 | 1 000 000100 0101 0000 0101 0100 0000
# 0 000000 | 1 000 000010 0101 0000 0101 0101 0000
# 0 000000 | 1 000 100000 0110 0000 0101 0101 0000
# 1 110010 | 1 000 001000 0110 0000 0110 0101 0000
# 1 101101 | 1 000 000100 0110 0000 0110 0101 0000
# 0 000000 | 1 000 000010 0110 0000 0110 0110 0000
# 0 000000 | 1 000 100000 0111 0000 0110 0110 0000
# 1 110010 | 1 000 001000 0111 0000 0111 0110 0000
# 1 101101 | 1 000 000100 0111 0000 0111 0110 0000
# 0 000000 | 1 000 000010 0111 0000 0111 0111 0000
# 0 000000 | 1 000 100000 1000 0000 0111 0111 0000
# 1 110010 | 1 000 001000 1000 0000 1000 0111 0000
# 1 101101 | 1 000 000100 1000 0000 1000 0111 0000
# 0 000000 | 1 000 000010 1000 0000 1000 1000 0000
# 0 000000 | 1 000 100000 1001 0000 1000 1000 0000
# 1 110010 | 1 000 001000 1001 0000 1001 1000 0000
# 1 101101 | 1 000 000100 1001 0000 1001 1000 0000
# 0 000000 | 1 000 000010 1001 0000 1001 1001 0000
# 0 000000 | 1 000 100000 1010 0000 1001 1001 0000
# 1 110010 | 1 000 001000 1010 0000 1010 1001 0000
# 1 101101 | 1 000 000100 1010 0000 1010 1001 0000
# 0 000000 | 1 000 000010 1010 0000 1010 1010 0000
# 0 000000 | 1 000 100000 1011 0000 1010 1010 0000
# 1 110010 | 1 000 001000 1011 0000 1011 1010 0000
# 1 101101 | 1 000 000100 1011 0000 1011 1010 0000
# 0 000000 | 1 000 000010 1011 0000 1011 1011 0000
# 0 000000 | 1 000 100000 1100 0000 1011 1011 0000
# 1 110010 | 1 000 001000 1100 0000 1100 1011 0000
# 1 101101 | 1 000 000100 1100 0000 1100 1011 0000
# 0 000000 | 1 000 000010 1100 0000 1100 1100 0000
# 0 000000 | 1 000 100000 1101 0000 1100 1100 0000
# 1 110010 | 1 000 001000 1101 0000 1101 1100 0000
# 1 101101 | 1 000 000100 1101 0000 1101 1100 0000
# 0 000000 | 1 000 000010 1101 0000 1101 1101 0000
# 0 000000 | 1 000 100000 1110 0000 1101 1101 0000
# 1 110010 | 1 000 001000 1110 0000 1110 1101 0000
# 1 101101 | 1 000 000100 1110 0000 1110 1101 0000
# 0 000000 | 1 000 000010 1110 0000 1110 1110 0000
# 0 000000 | 1 000 100000 1111 0000 1110 1110 0000
# 1 110010 | 1 000 001000 1111 0000 1111 1110 0000
# 1 101101 | 1 000 000100 1111 0000 1111 1110 0000
# 0 000000 | 1 000 000010 1111 0000 1111 1111 0000
# 0 000000 | 1 000 100000 0001 0000 1111 1111 0000
# 1 110010 | 1 000 001000 0001 0000 0001 1111 0000
# 1 101101 | 1 000 000100 0001 0000 0001 1111 0000
# 0 000000 | 0 110 000010 0001 0000 0001 0000 0000
# 010 1010 | 0 000 000000 0000 0000 0000 0000 0000
# 010 1010 | 0 000 000000 0000 0000 0000 0000 0000
# 010 1010 | 0 000 000000 0000 0000 0000 0000 0000
# 010 1010 | 0 000 000000 0000 0000 0000 0000 0000
# 010 1010 | 0 000 000000 0000 0000 0000 0000 0000
#!#

#?# Overflow discard IN
# 111 0000 | 1 000 100000 0001 0000 0000 0000 0000 | 
# 0 000000 | 1 000 010000 0001 0001 0000 0000 0000 | 

# 0 000000 | 1 000 100000 0010 0001 0000 0000 0000 | 
# 0 000000 | 1 000 010000 0010 0010 0000 0000 0000 | 

# 0 000000 | 1 000 100000 0011 0010 0000 0000 0000 | 
# 0 000000 | 1 000 010000 0011 0011 0000 0000 0000 | 

# 0 000000 | 1 000 100000 0100 0011 0000 0000 0000 | 
# 0 000000 | 1 000 010000 0100 0100 0000 0000 0000 | 

# 0 000000 | 1 000 100000 0101 0100 0000 0000 0000 | 
# 0 000000 | 1 000 010000 0101 0101 0000 0000 0000 | 

# 0 000000 | 1 000 100000 0110 0101 0000 0000 0000 | 
# 0 000000 | 1 000 010000 0110 0110 0000 0000 0000 | 

# 0 000000 | 1 000 100000 0111 0110 0000 0000 0000 | 
# 0 000000 | 1 000 010000 0111 0111 0000 0000 0000 | 

# 0 000000 | 1 000 100000 1000 0111 0000 0000 0000 | 
# 0 000000 | 1 000 010000 1000 1000 0000 0000 0000 | 

# 0 000000 | 1 000 100000 1001 1000 0000 0000 0000 | 
# 0 000000 | 1 000 010000 1001 1001 0000 0000 0000 | 

# 0 000000 | 1 000 100000 1010 1001 0000 0000 0000 | 
# 0 000000 | 1 000 010000 1010 1010 0000 0000 0000 | 

# 0 000000 | 1 000 100000 1011 1010 0000 0000 0000 | 
# 0 000000 | 1 000 010000 1011 1011 0000 0000 0000 | 

# 0 000000 | 1 000 100000 1100 1011 0000 0000 0000 | 
# 0 000000 | 1 000 010000 1100 1100 0000 0000 0000 |

# 0 000000 | 1 000 100000 1101 1100 0000 0000 0000 | 
# 0 000000 | 1 000 010000 1101 1101 0000 0000 0000 | 

# 0 000000 | 1 000 100000 1110 1101 0000 0000 0000 | 
# 0 000000 | 1 000 010000 1110 1110 0000 0000 0000 |

# 0 000000 | 1 000 100000 1111 1110 0000 0000 0000 | 
# 0 000000 | 1 000 010000 1111 1111 0000 0000 0000 | 

# 0 000000 | 1 000 100000 0000 1111 0000 0000 0000 |
# 0 000000 | 1 000 010000 0000 0000 0000 0000 0000 |

# 0 000000 | 0 101 000000 0000 0000 0000 0000 0000 | 
# 111 0000 | 1 000 100000 0001 0000 0000 0000 0000 | 
#!#


#?# Overflow discard OUT

# 111 0000 | 1 000 100000 0001 0000 0000 0000 0000 | 
# 1 000000 | 1 000 001000 0001 0000 0001 0000 0000 | 
# 1 000000 | 1 000 000100 0001 0000 0001 0000 0000 |
# 0 000000 | 1 000 000010 0001 0000 0001 0001 0000 | 

# 1 000000 | 1 000 100000 0010 0000 0001 0001 0000 | 
# 1 000000 | 1 000 001000 0010 0000 0010 0001 0000 | 
# 1 000000 | 1 000 000100 0010 0000 0010 0001 0000 | 
# 0 000000 | 1 000 000010 0010 0000 0010 0010 0000 | 

# 1 000000 | 1 000 100000 0011 0000 0010 0010 0000 | 
# 1 000000 | 1 000 001000 0011 0000 0011 0010 0000 | 
# 1 000000 | 1 000 000100 0011 0000 0011 0010 0000 |
# 0 000000 | 1 000 000010 0011 0000 0011 0011 0000 | 

# 1 000000 | 1 000 100000 0100 0000 0011 0011 0000 | 
# 1 000000 | 1 000 001000 0100 0000 0100 0011 0000 | 
# 1 000000 | 1 000 000100 0100 0000 0100 0011 0000 | 
# 0 000000 | 1 000 000010 0100 0000 0100 0100 0000 | 

# 1 000000 | 1 000 100000 0101 0000 0100 0100 0000 | 
# 1 000000 | 1 000 001000 0101 0000 0101 0100 0000 | 
# 1 000000 | 1 000 000100 0101 0000 0101 0100 0000 | 
# 0 000000 | 1 000 000010 0101 0000 0101 0101 0000 | 

# 1 000000 | 1 000 100000 0110 0000 0101 0101 0000 | 
# 1 000000 | 1 000 001000 0110 0000 0110 0101 0000 |
# 1 000000 | 1 000 000100 0110 0000 0110 0101 0000 |
# 0 000000 | 1 000 000010 0110 0000 0110 0110 0000 | 

# 1 000000 | 1 000 100000 0111 0000 0110 0110 0000 | 
# 1 000000 | 1 000 001000 0111 0000 0111 0110 0000 | 
# 1 000000 | 1 000 000100 0111 0000 0111 0110 0000 | 
# 0 000000 | 1 000 000010 0111 0000 0111 0111 0000 | 

# 1 000000 | 1 000 100000 1000 0000 0111 0111 0000 | 
# 1 000000 | 1 000 001000 1000 0000 1000 0111 0000 |
# 1 000000 | 1 000 000100 1000 0000 1000 0111 0000 | 
# 0 000000 | 1 000 000010 1000 0000 1000 1000 0000 | 

# 1 000000 | 1 000 100000 1001 0000 1000 1000 0000 | 
# 1 000000 | 1 000 001000 1001 0000 1001 1000 0000 |
# 1 000000 | 1 000 000100 1001 0000 1001 1000 0000 | 
# 0 000000 | 1 000 000010 1001 0000 1001 1001 0000 | 

# 1 000000 | 1 000 100000 1010 0000 1001 1001 0000 | 
# 1 000000 | 1 000 001000 1010 0000 1010 1001 0000 | 
# 1 000000 | 1 000 000100 1010 0000 1010 1001 0000 |
# 0 000000 | 1 000 000010 1010 0000 1010 1010 0000 | 

# 1 000000 | 1 000 100000 1011 0000 1010 1010 0000 | 
# 1 000000 | 1 000 001000 1011 0000 1011 1010 0000 | 
# 1 000000 | 1 000 000100 1011 0000 1011 1010 0000 | 
# 0 000000 | 1 000 000010 1011 0000 1011 1011 0000 | 

# 1 000000 | 1 000 100000 1100 0000 1011 1011 0000 |
# 1 000000 | 1 000 001000 1100 0000 1100 1011 0000 |
# 1 000000 | 1 000 000100 1100 0000 1100 1011 0000 | 
# 0 000000 | 1 000 000010 1100 0000 1100 1100 0000 |

# 1 000000 | 1 000 100000 1101 0000 1100 1100 0000 | 
# 1 000000 | 1 000 001000 1101 0000 1101 1100 0000 | 
# 1 000000 | 1 000 000100 1101 0000 1101 1100 0000 |
# 0 000000 | 1 000 000010 1101 0000 1101 1101 0000 | 

# 1 000000 | 1 000 100000 1110 0000 1101 1101 0000 | 
# 1 000000 | 1 000 001000 1110 0000 1110 1101 0000 | 
# 1 000000 | 1 000 000100 1110 0000 1110 1101 0000 | 
# 0 000000 | 1 000 000010 1110 0000 1110 1110 0000 |

# 1 000000 | 1 000 100000 1111 0000 1110 1110 0000 | 
# 1 000000 | 1 000 001000 1111 0000 1111 1110 0000 | 
# 1 000000 | 1 000 000100 1111 0000 1111 1110 0000 |
# 0 000000 | 1 000 000010 1111 0000 1111 1111 0000 | 

# 1 000000 | 1 000 100000 0000 0000 1111 1111 0000 | 
# 1 000000 | 1 000 001000 0000 0000 0000 1111 0000 |
# 1 000000 | 1 000 000100 0000 0000 0000 1111 0000 | 
# 0 000000 | 1 000 000010 0000 0000 0000 0000 0000 |

# 0 000000 | 0 110 000000 0000 0000 0000 0000 0000 | 
# 111 0000 | 1 000 100000 0001 0000 0000 0000 0000 | 
#!#

#?# Overflow Scarti (63+63+63+63)

# 111 0000 | 1 000 100000 0001 0000 0000 0000 0000 |
# 1 111111 | 1 000 001000 0001 0000 0001 0000 0000 | 
# 1 000001 | 1 000 000100 0001 0000 0001 0000 0000 | 
# 1 000000 | 1 000 000001 0001 0000 0001 0000 0001 | 

# 1 000000 | 1 000 100000 0010 0000 0001 0000 0001 | 
# 1 111111 | 1 000 001000 0010 0000 0010 0000 0001 | 
# 1 000001 | 1 000 000100 0010 0000 0010 0000 0001 | 
# 1 000000 | 1 000 000001 0010 0000 0010 0000 0010 | 

# 1 000000 | 1 000 100000 0011 0000 0010 0000 0010 | 
# 1 111111 | 1 000 001000 0011 0000 0011 0000 0010 | 
# 1 000001 | 1 000 000100 0011 0000 0011 0000 0010 | 
# 1 000000 | 1 000 000001 0011 0000 0011 0000 0011 | 

# 1 000000 | 1 000 100000 0100 0000 0011 0000 0011 |
# 1 111111 | 1 000 001000 0100 0000 0100 0000 0011 | 
# 1 000001 | 1 000 000100 0100 0000 0100 0000 0011 | 

# 1 000000 | 0 010 000000 0100 0000 0100 0000 0011 | 
# 0 000000 | 0 000 000000 0000 0000 0000 0000 0000 | 
# 111 0000 | 1 000 100000 0001 0000 0000 0000 0000 | 

#!#
